<h2 class="font-body text-yellow text-3 leading-loose">Records</h2>

<form class="flex flex-wrap flex-row gap-6 items-end" method="POST" action="<%= "/domains/" + params[:id] + "/addRecord" %>">
<div>
<label class="label" for="type">Type: </label>
<select name="type" class="input h-[41.2px]">
	<option value="A">A</option>
	<option value="URL">URL</option>
	<option value="CNAME">CNAME</option>
</select>
</div>
<div>
<label class="label" for="name">Name: </label>
<input class="input w-56" type="text" name="name">
</div>
<div>
<label class="label" for="content">Content: </label>
<input class="input w-56" type="text" name="content">
</div>
<div>
<label class="label" for="ttl">TTL: </label>
<input class="input w-24" type="number" name="ttl">
</div>
<div>
<label class="label" for="priority">Priority: </label>
<input class="input w-24" type="number" name="priority">
</div>
<input class="btn-sm-pink" type="submit" value="Create record">
</form>
<br>
<table>
  <tr>
    <th>Type </th>
    <th>Name</th>
    <th>Value</th>
    <th>TTL</th>
  </tr>
  <% @records.each do |record| %>
    <% if !record.system_record %>
      <tr>
        <td><%= record.type %></td>
        <td><%= record.name.blank? ? "@" : record.name %></td>
        <td><%= record.content %></td>
        <td><%= record.ttl %></td>
        <td>
          <form method="POST" action="<%= "/domains/" + params[:id] + "/destroyRecord" %>">
					  <input type="hidden" value="<%= record.id %>" name="recordId">
						<input type="submit" value="Destroy record">
					</form>
				</td>
      </tr>
    <% end %>
  <% end %>
</table>

<style>
td {
  border: black solid 2px;
  padding: 0.5rem;
}
</style>

<form method="GET" action="<%= "/domains/" + params[:id] + "/destroy" %>">
<input type="submit" value="Destroy">
</form>
