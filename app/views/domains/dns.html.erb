<h2 class="admin-h2">Records</h2>

<form
  class="flex flex-wrap flex-row gap-4 gap-y-2 items-end"
  method="POST"
  action="<%= addRecord_domain_path(@domain) %>"
>
  <div>
    <label class="label" for="type">Type
    </label>
    <select name="type" class="input h-[41.2px]">
      <option value="A">A</option>
      <option value="URL">URL</option>
      <option value="CNAME">CNAME</option>
    </select>
  </div>
  <div>
    <label class="label" for="name">Name
    </label>
    <input class="input w-56" type="text" name="name" placeholder="@">
  </div>
  <div>
    <label class="label" for="content">Value
    </label>
    <input class="input w-56" type="text" name="content" placeholder="random.cdn.local">
  </div>
  <div>
    <label class="label" for="ttl">TTL
    </label>
    <input class="input w-24" type="number" name="ttl" placeholder="Auto">
  </div>
  <div>
    <label class="label" for="priority">Priority
    </label>
    <%# TODO this should be disabled for certain types of records %>
    <input class="input w-24" type="number" name="priority">
  </div>
  <input class="btn-sm-pink" type="submit" value="Add Record">
</form>
<br>

<%# Placeholder for if there are no non-system records %>
<% if @records.empty? %>
  <div class="flex flex-col items-center justify-center bg-black bg-opacity-25 rounded-lg p-8 gap-2">
    <svg class="w-24 h-24 fill-yellow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
      <%# No DNS records icon%>
      <path fill-rule="evenodd" d="M10 2a8 8 0 100 16 8 8 0 000-16zm0 1a7 7 0 110 14 7 7 0 010-14zm-.5 2a.5.5 0 00-.5.5v2.5a.5.5 0 001 0V5.5a.5.5 0 00-.5-.5zm.5 4.5a.5.5 0 01.5.5v4a.5.5 0 01-1 0v-4a.5.5 0 01.5-.5z" clip-rule="evenodd" />
    </svg>
    <p class="text-center text-1">No records found</p>
  </div>
<% else %>
<div class="max-w-full overflow-x-scroll">
  <table class="table table-auto">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Value</th>
        <th>TTL</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% @records.each do |record| %>
        <tr data-controller="dns_record">
          <td>
            <div class="chip-blue max-w-min"><%= record.type %></div>
          </td>
          <td><%= record.name.blank? ? "@" : record.name %></td>
          <td><%= record.content %></td>
          <td><%= record.ttl %></td>
          <td>
            <div class="flex flex-row">
              <svg data-action="dns_record#edit" class="fill-yellow w-8 h-8" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" xmlns="http://www.w3.org/2000/svg" aria-label="edit" viewBox="0 0 32 32" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="48" height="48" title="edit"><path d="M11.878,8.479c0.132,-0.242 0.346,-0.479 0.622,-0.479l1.5,0c0.552,0 1,0.448 1,1c0,0.552 -0.448,1 -1,1l-1,0c-0.552,0 -1,0.448 -1,1l0,10c0,0.552 0.448,1 1,1l1,0c0.552,0 1,0.448 1,1c0,0.552 -0.448,1 -1,1l-1.5,0c-0.276,0 -0.49,-0.237 -0.622,-0.48c-0.17,-0.31 -0.499,-0.52 -0.878,-0.52c-0.379,0 -0.708,0.21 -0.878,0.52c-0.132,0.243 -0.346,0.48 -0.622,0.48l-1.5,0c-0.552,0 -1,-0.448 -1,-1c0,-0.552 0.448,-1 1,-1l1,0c0.552,0 1,-0.448 1,-1l0,-10c0,-0.552 -0.448,-1 -1,-1l-1,0c-0.552,0 -1,-0.448 -1,-1c0,-0.552 0.448,-1 1,-1l1.5,0c0.276,0 0.49,0.237 0.622,0.479c0.17,0.311 0.499,0.521 0.878,0.521c0.379,0 0.708,-0.21 0.878,-0.521Zm-3.878,17.521c-0.552,0 -1,0.448 -1,1c0,0.552 0.448,1 1,1l16,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1l-16,0Z"></path></svg>
              <svg data-action="dns_record#delete" class="fill-pink w-8 h-8" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" xmlns="http://www.w3.org/2000/svg" aria-label="delete" viewBox="0 0 32 32" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="48" height="48" title="delete"><g><path d="M8.391 12.32c-.636-.131-1.248.368-1.213 1.016.808 14.714 1.271 14.711 7.681 14.669C15.22 28.003 15.6 28 16 28s.78.003 1.141.005c6.41.042 6.873.045 7.681-14.669.035-.648-.577-1.147-1.212-1.016a.975.975 0 0 0-.784.896c-.17 3.094-.323 5.51-.519 7.407-.266 2.584-.588 3.883-.95 4.566-.225.426-.422.586-1.067.701-.716.128-1.615.123-3.019.115h-.002a161.358 161.358 0 0 0-2.538 0h-.001c-1.405.008-2.304.013-3.02-.115-.645-.115-.842-.275-1.067-.701-.362-.683-.684-1.982-.95-4.566-.196-1.897-.349-4.313-.519-7.407a.975.975 0 0 0-.783-.896z"></path><path d="M6 10a1 1 0 0 1 1-1h18a1 1 0 0 1 0 2H7a1 1 0 0 1-1-1z" fill-rule="nonzero"></path><path d="M12.25 7.973C12.112 8.185 12 8.5 12 9h-2c0-.81.186-1.525.576-2.121.366-.536.963-1.006 1.525-1.271C13.24 5.087 14.687 5 16 5c1.313 0 2.76.087 3.899.608.562.265 1.158.735 1.525 1.271C21.814 7.475 22 8.19 22 9h-2c0-.5-.112-.815-.25-1.027-.161-.272-.324-.388-.684-.546C18.36 7.103 17.306 7 16 7c-1.306 0-2.36.103-3.066.427-.36.158-.523.274-.684.546z"></path><path d="M12.044 14.086a1 1 0 1 1 1.998-.087l.349 7.992a1 1 0 0 1-1.998.087l-.349-7.992zM17.956 13.999a1 1 0 0 1 1.998.087l-.348 7.993a1 1 0 0 1-1.999-.088l.349-7.992z" fill-rule="nonzero"></path></g></svg>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <% end %>
</div>